# Copy this file to docker-compose.gce.env and fill in the secrets

# Django
SECRET_KEY=change_me_to_a_secure_random_string
DEBUG=False
ALLOWED_HOSTS=co.riverlearn.co.ke,localhost,127.0.0.1
CORS_ALLOWED_ORIGINS=https://co.riverlearn.co.ke,https://jitsi.riverlearn.co.ke
CSRF_TRUSTED_ORIGINS=https://co.riverlearn.co.ke

# Database
# If set, Postgres will be used; otherwise SQLite is used and persisted to volume
# Example: DATABASE_URL=postgres://course_organizer:change_me@postgres:5432/course_organizer
DATABASE_URL=
POSTGRES_DB=course_organizer
POSTGRES_USER=course_organizer
POSTGRES_PASSWORD=change_me

# Email (Google Workspace)
EMAIL_HOST=smtp.googlemail.com
EMAIL_PORT=465
EMAIL_USE_TLS=False
EMAIL_USE_SSL=True
EMAIL_HOST_USER=noreply@riverlearn.co.ke
EMAIL_HOST_PASSWORD=your_16_char_app_password
DEFAULT_FROM_EMAIL=Course Organizer <noreply@riverlearn.co.ke>
FRONTEND_URL=https://co.riverlearn.co.ke

# Jitsi JWT
JITSI_DOMAIN=jitsi.riverlearn.co.ke
JITSI_APP_ID=course-organizer
JITSI_AUDIENCE=jitsi
JITSI_ISSUER=course-organizer
# Provide base64-encoded PEM contents or raw PEM; ensure proper escaping if inline
JITSI_PRIVATE_KEY=
JITSI_PUBLIC_KEY=

# XMPP/Websocket proxy (reusable across envs)
# These control where Nginx proxies /xmpp-websocket and /http-bind
# Typically points to your Jitsi web which forwards to Prosody
XMPP_WEBSOCKET_UPSTREAM=https://jitsi.riverlearn.co.ke/xmpp-websocket
XMPP_BOSH_UPSTREAM=https://jitsi.riverlearn.co.ke/http-bind

# Prosody service user (for automatic room provisioning)
XMPP_HOST=jitsi.riverlearn.co.ke
XMPP_MUC_HOST=conference.jitsi.riverlearn.co.ke
XMPP_WS_URL=wss://jitsi.riverlearn.co.ke/xmpp-websocket
XMPP_SERVICE_JID=room-bot@auth.jitsi.riverlearn.co.ke
XMPP_SERVICE_PASSWORD=change_me

# Admin bootstrap
# Optional: if set, Docker startup creates admin with this password
ADMIN_PASSWORD=

ALLOW_DESTRUCTIVE_CMDS=true