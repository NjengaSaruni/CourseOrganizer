import{c as D,f as B,i as P,j as W,k as z,q as G}from"./chunk-DHWRSAE3.js";import{a as U}from"./chunk-CJME7ZFP.js";import{a as H}from"./chunk-R3RPSZJZ.js";import{b as k}from"./chunk-E25IYVGI.js";import{Ba as O,E as _,Fa as F,G as o,Ga as V,I as v,Ia as A,J as y,Ja as N,N as m,U as a,V as e,W as t,X as l,Y as w,Z as S,_ as h,fa as C,ia as d,ja as g,ka as R,na as E,oa as j,pa as M,ra as I,u as x,v as b,va as L,w as p,x as f,xa as T}from"./chunk-X3WSSSVM.js";var q=()=>[1,2,3];function J(n,r){if(n&1&&(e(0,"div",14)(1,"div",15)(2,"div",16),l(3,"div",17),e(4,"div",18),l(5,"div",19),t()(),l(6,"div",20)(7,"div",21),e(8,"div",22),l(9,"div",23)(10,"div",24),t()()()),n&2){let i=r.$implicit;C("animation-delay",(i-1)*.1+"s")}}function K(n,r){n&1&&(e(0,"div",3)(1,"div",4)(2,"div",5),p(),e(3,"svg",6),l(4,"path",7),t()(),f(),l(5,"div",8),t(),e(6,"div",9)(7,"h3",10),d(8,"Loading Recordings"),t(),e(9,"p",11),d(10,"Fetching your lecture recordings..."),t(),e(11,"div",12),m(12,J,11,2,"div",13),t()()()),n&2&&(o(12),a("ngForOf",I(1,q)))}function Q(n,r){if(n&1&&(e(0,"option",33),d(1),t()),n&2){let i=r.$implicit;a("value",i),o(),g(i)}}function X(n,r){if(n&1&&(e(0,"div",34)(1,"div",15)(2,"div",16)(3,"div",35)(4,"div",36),p(),e(5,"svg",37),l(6,"path",7),t()()(),f(),e(7,"div",18)(8,"span",38),d(9),t()()(),e(10,"h3",10),d(11),t(),e(12,"p",39),d(13),t(),e(14,"div",22)(15,"div",11)(16,"span",40),d(17),t(),e(18,"span",41),d(19,"\u2022"),t(),e(20,"span"),d(21),L(22,"date"),t()(),e(23,"a",42),p(),e(24,"svg",43),l(25,"path",44),t(),d(26," Watch "),t()()()()),n&2){let i=r.$implicit;o(9),R(" ",i.duration," "),o(2),g(i.title),o(2),g(i.description),o(4),g(i.uploaded_by_name),o(4),g(T(22,6,i.created_at,"MMM d, y")),o(2),a("href",i.video_url,_)}}function Y(n,r){n&1&&(e(0,"div",45),p(),e(1,"svg",46),l(2,"path",7),t(),f(),e(3,"h3",47),d(4,"No recordings available"),t(),e(5,"p",48),d(6,"Lecture recordings will appear here once they are uploaded."),t()())}function Z(n,r){if(n&1){let i=w();e(0,"div")(1,"div",25)(2,"label",26),d(3," Filter by Subject "),t(),e(4,"select",27),M("ngModelChange",function(c){x(i);let u=h();return j(u.selectedSubject,c)||(u.selectedSubject=c),b(c)}),S("change",function(){x(i);let c=h();return b(c.filterRecordings())}),e(5,"option",28),d(6,"All Subjects"),t(),m(7,Q,2,2,"option",29),t()(),e(8,"div",30),m(9,X,27,9,"div",31),t(),m(10,Y,7,0,"div",32),t()}if(n&2){let i=h();o(4),E("ngModel",i.selectedSubject),o(3),a("ngForOf",i.subjects),o(2),a("ngForOf",i.filteredRecordings),o(),a("ngIf",i.filteredRecordings.length===0&&!i.isLoading)}}var $=class n{constructor(r,i,s){this.courseService=r;this.authService=i;this.cdr=s}recordings=[];filteredRecordings=[];subjects=[];selectedSubject="";isLoading=!0;isSidebarOpen=!1;ngOnInit(){this.authService.isAuthenticated()?this.loadRecordings():this.isLoading=!1}onSidebarToggle(r){this.isSidebarOpen=r}loadRecordings(){this.isLoading=!0,this.courseService.getRecordings().subscribe({next:r=>{this.recordings=r,this.filteredRecordings=r,this.subjects=["All Courses"],this.isLoading=!1,this.cdr.detectChanges()},error:()=>{this.isLoading=!1,this.cdr.detectChanges()}})}filterRecordings(){this.selectedSubject&&this.selectedSubject!=="All Courses"?this.filteredRecordings=this.recordings.filter(r=>r.title.toLowerCase().includes(this.selectedSubject.toLowerCase())):this.filteredRecordings=this.recordings}static \u0275fac=function(i){return new(i||n)(v(U),v(k),v(O))};static \u0275cmp=y({type:n,selectors:[["app-recordings"]],decls:3,vars:3,consts:[["pageTitle","Lecture Recordings","pageSubtitle","University of Nairobi - Watch recorded lectures and presentations",3,"sidebarToggle","isSidebarOpen"],["class","flex flex-col items-center justify-center py-20",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","py-20"],[1,"relative"],[1,"w-16","h-16","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-8","h-8","text-green-600","animate-pulse"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],[1,"absolute","-inset-2","w-20","h-20","border-2","border-green-200","border-t-green-600","rounded-full","animate-spin"],[1,"mt-6","text-center"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500"],[1,"mt-8","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","w-full"],["class","bg-white rounded-lg shadow-md animate-pulse",3,"animation-delay",4,"ngFor","ngForOf"],[1,"bg-white","rounded-lg","shadow-md","animate-pulse"],[1,"p-6"],[1,"flex","items-center","mb-4"],[1,"h-10","w-10","bg-gray-200","rounded-lg"],[1,"ml-3"],[1,"h-6","w-16","bg-gray-200","rounded-full"],[1,"h-6","bg-gray-200","rounded","mb-2"],[1,"h-4","bg-gray-200","rounded","mb-3","w-3/4"],[1,"flex","items-center","justify-between"],[1,"h-4","bg-gray-200","rounded","w-1/2"],[1,"h-8","w-20","bg-gray-200","rounded"],[1,"mb-6"],["for","subject-filter",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","subject-filter",1,"block","w-full","max-w-xs","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-primary-500","focus:border-primary-500","sm:text-sm",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[3,"value"],[1,"bg-white","rounded-lg","shadow-md","hover:shadow-lg","transition-shadow","duration-200"],[1,"flex-shrink-0"],[1,"h-10","w-10","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-green-600"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],[1,"text-sm","text-gray-600","mb-3"],[1,"font-medium"],[1,"mx-2"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","leading-4","font-medium","rounded-md","text-green-700","bg-green-100","hover:bg-green-200","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"href"],["fill","currentColor","viewBox","0 0 20 20",1,"h-4","w-4","mr-1"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule","evenodd"],[1,"text-center","py-12"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"]],template:function(i,s){i&1&&(e(0,"app-page-layout",0),S("sidebarToggle",function(u){return s.onSidebarToggle(u)}),m(1,K,13,2,"div",1)(2,Z,11,4,"div",2),t()),i&2&&(a("isSidebarOpen",s.isSidebarOpen),o(),a("ngIf",s.isLoading),o(),a("ngIf",!s.isLoading))},dependencies:[N,F,V,G,W,z,P,D,B,H,A],encapsulation:2})};export{$ as RecordingsComponent};
