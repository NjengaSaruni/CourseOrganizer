import{b as w}from"./chunk-E25IYVGI.js";import{$ as M,F as L,G as m,Ga as y,I as S,J as _,Ja as k,N as b,O as V,Ra as H,Sa as j,Ta as O,U as f,V as e,W as t,Wa as P,X as l,Y as h,Z as c,_ as g,aa as T,ba as U,ca as I,da as A,ia as i,ja as v,u,v as p,w as s,x as d}from"./chunk-X3WSSSVM.js";function Q(x,o){x&1&&(e(0,"a",42)(1,"div",25),s(),e(2,"svg",13),l(3,"path",43),t()(),d(),e(4,"div")(5,"div",16),i(6,"Announcements"),t(),e(7,"div",17),i(8,"Send class announcements"),t()()())}function Y(x,o){x&1&&(e(0,"div",8)(1,"div",9)(2,"h3",10),i(3,"Administration"),t()(),e(4,"a",44)(5,"div",45),s(),e(6,"svg",13),l(7,"path",46)(8,"path",47),t()(),d(),e(9,"div")(10,"div",16),i(11,"Admin Panel"),t(),e(12,"div",17),i(13,"Manage registrations"),t()()(),e(14,"a",48)(15,"div",22),s(),e(16,"svg",13),l(17,"path",49),t()(),d(),e(18,"div")(19,"div",16),i(20,"Class Representatives"),t(),e(21,"div",17),i(22,"Manage class reps"),t()()(),e(23,"a",50)(24,"div",51),s(),e(25,"svg",13),l(26,"path",52),t()(),d(),e(27,"div")(28,"div",16),i(29,"Course Management"),t(),e(30,"div",17),i(31,"Upload recordings & materials"),t()()()())}function F(x,o){if(x&1){let n=h();e(0,"a",70),c("click",function(){u(n);let a=g(2);return p(a.toggleSidebar())}),e(1,"div",25),s(),e(2,"svg",13),l(3,"path",43),t()(),d(),e(4,"div")(5,"div",16),i(6,"Announcements"),t(),e(7,"div",17),i(8,"Send class announcements"),t()()()}}function $(x,o){if(x&1){let n=h();e(0,"div",8)(1,"div",9)(2,"h3",10),i(3,"Administration"),t()(),e(4,"a",71),c("click",function(){u(n);let a=g(2);return p(a.toggleSidebar())}),e(5,"div",45),s(),e(6,"svg",13),l(7,"path",46)(8,"path",47),t()(),d(),e(9,"div")(10,"div",16),i(11,"Admin Panel"),t(),e(12,"div",17),i(13,"Manage registrations"),t()()(),e(14,"a",72),c("click",function(){u(n);let a=g(2);return p(a.toggleSidebar())}),e(15,"div",22),s(),e(16,"svg",13),l(17,"path",49),t()(),d(),e(18,"div")(19,"div",16),i(20,"Class Representatives"),t(),e(21,"div",17),i(22,"Manage class reps"),t()()(),e(23,"a",73),c("click",function(){u(n);let a=g(2);return p(a.toggleSidebar())}),e(24,"div",51),s(),e(25,"svg",13),l(26,"path",52),t()(),d(),e(27,"div")(28,"div",16),i(29,"Course Management"),t(),e(30,"div",17),i(31,"Upload recordings & materials"),t()()()()}}function q(x,o){if(x&1){let n=h();e(0,"div",53)(1,"div",54),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),t(),e(2,"div",55)(3,"div",56)(4,"button",57),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),s(),e(5,"svg",58),l(6,"path",59),t()()(),d(),e(7,"div",60)(8,"div",61)(9,"div",3)(10,"span",4),i(11,"CO"),t()(),e(12,"h2",5),i(13,"Course Organizer"),t()(),e(14,"nav",62)(15,"div",8)(16,"div",9)(17,"h3",10),i(18,"Overview"),t()(),e(19,"a",63),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),e(20,"div",12),s(),e(21,"svg",13),l(22,"path",14)(23,"path",15),t()(),d(),e(24,"div")(25,"div",16),i(26,"Dashboard"),t(),e(27,"div",17),i(28,"Your learning overview"),t()()()(),e(29,"div",8)(30,"div",9)(31,"h3",10),i(32,"Academic"),t()(),e(33,"a",64),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),e(34,"div",19),s(),e(35,"svg",13),l(36,"path",20),t()(),d(),e(37,"div")(38,"div",16),i(39,"Timetable"),t(),e(40,"div",17),i(41,"Your class schedule"),t()()(),e(42,"a",65),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),e(43,"div",22),s(),e(44,"svg",13),l(45,"path",23),t()(),d(),e(46,"div")(47,"div",16),i(48,"Materials"),t(),e(49,"div",17),i(50,"Course resources"),t()()(),e(51,"a",66),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),e(52,"div",25),s(),e(53,"svg",13),l(54,"path",26),t()(),d(),e(55,"div")(56,"div",16),i(57,"Recordings"),t(),e(58,"div",17),i(59,"Lecture videos"),t()()(),e(60,"a",67),c("click",function(){u(n);let a=g();return p(a.toggleSidebar())}),e(61,"div",28),s(),e(62,"svg",13),l(63,"path",26),t()(),d(),e(64,"div")(65,"div",16),i(66,"Meetings"),t(),e(67,"div",17),i(68,"Online sessions"),t()()(),b(69,F,9,0,"a",68),t(),b(70,$,32,0,"div",30),t()(),e(71,"div",31)(72,"div",69)(73,"div",33)(74,"span",34),i(75),t()(),e(76,"div",35)(77,"p",36),i(78),t(),e(79,"p",37),i(80),t()(),e(81,"button",38),c("click",function(){u(n);let a=g();return p(a.logout())}),s(),e(82,"svg",39),l(83,"path",40),t()()()()()()}if(x&2){let n=g();m(69),f("ngIf",n.isClassRep()),m(),f("ngIf",n.isAdmin()),m(5),v(n.getInitials()),m(3),v(n.currentUser==null?null:n.currentUser.full_name),m(2),v(n.currentUser==null?null:n.currentUser.email)}}var E=class x{constructor(o){this.authService=o;this.authService.currentUser$.subscribe(r=>{this.currentUser=r});let n=this.authService.getCurrentUser();n&&n.user_type==="student"&&!n.class_rep_role&&(console.log("Refreshing user data to get class rep role information"),this.authService.refreshUserData().subscribe({next:r=>{console.log("User data refreshed in sidebar:",r)},error:r=>{console.error("Error refreshing user data in sidebar:",r)}}))}isSidebarOpen=!1;currentUser=null;toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}isAdmin(){return this.authService.getCurrentUser()?.is_admin===!0}isClassRep(){let o=this.authService.getCurrentUser();return console.log("Checking if user is class rep:",{user:o,user_type:o?.user_type,class_rep_role:o?.class_rep_role,is_active:o?.class_rep_role?.is_active}),o?.user_type==="student"&&o?.class_rep_role?.is_active===!0}getInitials(){if(!this.currentUser)return"U";let o=this.currentUser.full_name?.split(" ")||[];return o.length>=2?(o[0][0]+o[1][0]).toUpperCase():o[0]?.[0]?.toUpperCase()||"U"}logout(){this.authService.logout().subscribe({next:()=>{console.log("Logout successful, redirecting..."),window.location.href="/"},error:o=>{console.error("Logout error:",o),localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),window.location.href="/"}})}static \u0275fac=function(n){return new(n||x)(S(w))};static \u0275cmp=_({type:x,selectors:[["app-sidebar"]],inputs:{isSidebarOpen:"isSidebarOpen"},decls:80,vars:6,consts:[[1,"hidden","md:flex","md:w-72","md:flex-col"],[1,"flex","flex-col","h-screen","bg-white","overflow-y-auto","border-r","border-gray-200"],[1,"flex","items-center","flex-shrink-0","px-6","py-6","space-x-3"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-500","to-purple-600","rounded-lg","flex","items-center","justify-center"],[1,"text-white","font-bold","text-sm"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex-grow","flex","flex-col","px-4"],[1,"flex-1","space-y-6"],[1,"space-y-2"],[1,"px-3","py-2"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],["routerLink","/dashboard","routerLinkActive","bg-blue-50 text-blue-700 border-r-2 border-blue-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-500","to-blue-600","rounded-lg","flex","items-center","justify-center","mr-3"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"],[1,"font-medium"],[1,"text-xs","text-gray-500"],["routerLink","/timetable","routerLinkActive","bg-green-50 text-green-700 border-r-2 border-green-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-green-500","to-green-600","rounded-lg","flex","items-center","justify-center","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["routerLink","/materials","routerLinkActive","bg-purple-50 text-purple-700 border-r-2 border-purple-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-purple-500","to-purple-600","rounded-lg","flex","items-center","justify-center","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["routerLink","/recordings","routerLinkActive","bg-orange-50 text-orange-700 border-r-2 border-orange-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-orange-500","to-orange-600","rounded-lg","flex","items-center","justify-center","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["routerLink","/meetings","routerLinkActive","bg-teal-50 text-teal-700 border-r-2 border-teal-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-teal-500","to-teal-600","rounded-lg","flex","items-center","justify-center","mr-3"],["routerLink","/announcements","routerLinkActive","bg-orange-50 text-orange-700 border-r-2 border-orange-500","class","group flex items-center px-3 py-3 text-sm font-medium rounded-xl text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",4,"ngIf"],["class","space-y-2",4,"ngIf"],[1,"flex-shrink-0","border-t","border-gray-200","p-4"],[1,"flex","items-center","space-x-3","p-3","rounded-xl","bg-gray-50","hover:bg-gray-100","transition-colors"],[1,"w-10","h-10","bg-gradient-to-br","from-gray-400","to-gray-600","rounded-full","flex","items-center","justify-center"],[1,"text-white","font-semibold","text-sm"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-900","truncate"],[1,"text-xs","text-gray-500","truncate"],[1,"p-2","text-gray-400","hover:text-gray-600","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["class","fixed inset-0 z-40 md:hidden",4,"ngIf"],["routerLink","/announcements","routerLinkActive","bg-orange-50 text-orange-700 border-r-2 border-orange-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-9 0a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2M9 9h6m-6 4h6m-6 4h4"],["routerLink","/admin","routerLinkActive","bg-red-50 text-red-700 border-r-2 border-red-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-red-500","to-red-600","rounded-lg","flex","items-center","justify-center","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","/admin/class-rep-management","routerLinkActive","bg-purple-50 text-purple-700 border-r-2 border-purple-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],["routerLink","/admin/course-management","routerLinkActive","bg-indigo-50 text-indigo-700 border-r-2 border-indigo-500",1,"group","flex","items-center","px-3","py-3","text-sm","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200"],[1,"w-8","h-8","bg-gradient-to-br","from-indigo-500","to-indigo-600","rounded-lg","flex","items-center","justify-center","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],[1,"fixed","inset-0","z-40","md:hidden"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-75",3,"click"],[1,"relative","flex-1","flex","flex-col","max-w-xs","w-full","bg-white"],[1,"absolute","top-0","right-0","-mr-12","pt-2"],[1,"ml-1","flex","items-center","justify-center","h-10","w-10","rounded-full","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-white",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","pt-6","pb-4","overflow-y-auto","max-h-screen"],[1,"flex-shrink-0","flex","items-center","px-6","space-x-3","mb-8"],[1,"px-4","space-y-6"],["routerLink","/dashboard","routerLinkActive","bg-blue-50 text-blue-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/timetable","routerLinkActive","bg-green-50 text-green-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/materials","routerLinkActive","bg-purple-50 text-purple-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/recordings","routerLinkActive","bg-orange-50 text-orange-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/meetings","routerLinkActive","bg-teal-50 text-teal-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/announcements","routerLinkActive","bg-orange-50 text-orange-700","class","group flex items-center px-3 py-3 text-base font-medium rounded-xl text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",3,"click",4,"ngIf"],[1,"flex","items-center","space-x-3","p-3","rounded-xl","bg-gray-50"],["routerLink","/announcements","routerLinkActive","bg-orange-50 text-orange-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/admin","routerLinkActive","bg-red-50 text-red-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/admin/class-rep-management","routerLinkActive","bg-purple-50 text-purple-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"],["routerLink","/admin/course-management","routerLinkActive","bg-indigo-50 text-indigo-700",1,"group","flex","items-center","px-3","py-3","text-base","font-medium","rounded-xl","text-gray-700","hover:bg-gray-50","hover:text-gray-900","transition-all","duration-200",3,"click"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),i(5,"CO"),t()(),e(6,"h2",5),i(7,"Course Organizer"),t()(),e(8,"div",6)(9,"nav",7)(10,"div",8)(11,"div",9)(12,"h3",10),i(13,"Overview"),t()(),e(14,"a",11)(15,"div",12),s(),e(16,"svg",13),l(17,"path",14)(18,"path",15),t()(),d(),e(19,"div")(20,"div",16),i(21,"Dashboard"),t(),e(22,"div",17),i(23,"Your learning overview"),t()()()(),e(24,"div",8)(25,"div",9)(26,"h3",10),i(27,"Academic"),t()(),e(28,"a",18)(29,"div",19),s(),e(30,"svg",13),l(31,"path",20),t()(),d(),e(32,"div")(33,"div",16),i(34,"Timetable"),t(),e(35,"div",17),i(36,"Your class schedule"),t()()(),e(37,"a",21)(38,"div",22),s(),e(39,"svg",13),l(40,"path",23),t()(),d(),e(41,"div")(42,"div",16),i(43,"Materials"),t(),e(44,"div",17),i(45,"Course resources"),t()()(),e(46,"a",24)(47,"div",25),s(),e(48,"svg",13),l(49,"path",26),t()(),d(),e(50,"div")(51,"div",16),i(52,"Recordings"),t(),e(53,"div",17),i(54,"Lecture videos"),t()()(),e(55,"a",27)(56,"div",28),s(),e(57,"svg",13),l(58,"path",26),t()(),d(),e(59,"div")(60,"div",16),i(61,"Meetings"),t(),e(62,"div",17),i(63,"Online sessions"),t()()(),b(64,Q,9,0,"a",29),t(),b(65,Y,32,0,"div",30),t()(),e(66,"div",31)(67,"div",32)(68,"div",33)(69,"span",34),i(70),t()(),e(71,"div",35)(72,"p",36),i(73),t(),e(74,"p",37),i(75),t()(),e(76,"button",38),c("click",function(){return r.logout()}),s(),e(77,"svg",39),l(78,"path",40),t()()()()()(),b(79,q,84,5,"div",41)),n&2&&(m(64),f("ngIf",r.isClassRep()),m(),f("ngIf",r.isAdmin()),m(5),v(r.getInitials()),m(3),v(r.currentUser==null?null:r.currentUser.full_name),m(2),v(r.currentUser==null?null:r.currentUser.email),m(4),f("ngIf",r.isSidebarOpen))},dependencies:[k,y,P,j,O],encapsulation:2})};var J=["profileDropdown"],K=["*"];function W(x,o){if(x&1){let n=h();e(0,"div",26)(1,"div",27)(2,"p",28),i(3),t(),e(4,"p",29),i(5),t(),e(6,"p",30),i(7),t()(),e(8,"div",31)(9,"button",32),c("click",function(){u(n);let a=g();return p(a.openProfileSettings())}),s(),e(10,"svg",33),l(11,"path",34),t(),i(12," Profile Settings "),t(),d(),e(13,"button",32),c("click",function(){u(n);let a=g();return p(a.openAccountSettings())}),s(),e(14,"svg",33),l(15,"path",35)(16,"path",36),t(),i(17," Account Settings "),t(),d(),e(18,"button",32),c("click",function(){u(n);let a=g();return p(a.openNotifications())}),s(),e(19,"svg",33),l(20,"path",37),t(),i(21," Notifications "),t()(),d(),e(22,"div",38)(23,"button",39),c("click",function(){u(n);let a=g();return p(a.logout())}),s(),e(24,"svg",40),l(25,"path",41),t(),i(26," Sign Out "),t()()()}if(x&2){let n=g();m(3),v(n.currentUser==null?null:n.currentUser.full_name),m(2),v(n.currentUser==null?null:n.currentUser.email),m(2),v(n.currentUser==null?null:n.currentUser.registration_number)}}var D=class x{constructor(o,n){this.authService=o;this.router=n}profileDropdown;pageTitle="";pageSubtitle="";isSidebarOpen=!1;sidebarToggle=new V;currentUser=null;isProfileDropdownOpen=!1;ngOnInit(){this.authService.currentUser$.subscribe(o=>{this.currentUser=o})}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen,this.sidebarToggle.emit(this.isSidebarOpen)}toggleProfileDropdown(){this.isProfileDropdownOpen=!this.isProfileDropdownOpen}closeProfileDropdown(){this.isProfileDropdownOpen=!1}getInitials(){if(!this.currentUser?.full_name)return"U";let o=this.currentUser.full_name.split(" ");return o.length>=2?(o[0][0]+o[o.length-1][0]).toUpperCase():o[0][0].toUpperCase()}openProfileSettings(){this.closeProfileDropdown(),this.router.navigate(["/profile-settings"])}openAccountSettings(){this.closeProfileDropdown(),this.router.navigate(["/account-settings"])}openNotifications(){this.closeProfileDropdown(),console.log("Opening notifications...")}logout(){this.authService.logout().subscribe({next:()=>{console.log("Logout successful, redirecting..."),window.location.href="/"},error:o=>{console.error("Logout error:",o),localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"),window.location.href="/"}})}onDocumentClick(o){this.profileDropdown&&!this.profileDropdown.nativeElement.contains(o.target)&&this.closeProfileDropdown()}static \u0275fac=function(n){return new(n||x)(S(w),S(H))};static \u0275cmp=_({type:x,selectors:[["app-page-layout"]],viewQuery:function(n,r){if(n&1&&U(J,5),n&2){let a;I(a=A())&&(r.profileDropdown=a.first)}},hostBindings:function(n,r){n&1&&c("click",function(C){return r.onDocumentClick(C)},L)},inputs:{pageTitle:"pageTitle",pageSubtitle:"pageSubtitle",isSidebarOpen:"isSidebarOpen"},outputs:{sidebarToggle:"sidebarToggle"},ngContentSelectors:K,decls:33,vars:7,consts:[["profileDropdown",""],[1,"min-h-screen","bg-gray-50","flex"],[3,"isSidebarOpen"],[1,"flex-1","flex","flex-col","overflow-hidden"],[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"px-4","sm:px-6","lg:px-8"],[1,"py-6","flex","items-center","justify-between"],[1,"text-2xl","font-bold","text-navy-500"],[1,"mt-1","text-sm","text-gray-600"],[1,"flex","items-center","space-x-4"],[1,"relative"],[1,"flex","items-center","space-x-3","p-2","rounded-xl","hover:bg-gray-50","transition-colors","focus:outline-none","focus:ring-2","focus:ring-gray-200",3,"click"],[1,"w-8","h-8","bg-gradient-to-br","from-gray-400","to-gray-600","rounded-full","flex","items-center","justify-center"],[1,"text-white","font-semibold","text-sm"],[1,"hidden","md:block","text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-lg border border-gray-200 py-2 z-50",4,"ngIf"],[1,"md:hidden","inline-flex","items-center","justify-center","p-2","rounded-md","text-gray-700","hover:text-primary-600","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-primary-500",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex-1","overflow-y-auto"],[1,"py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"absolute","right-0","mt-2","w-64","bg-white","rounded-2xl","shadow-lg","border","border-gray-200","py-2","z-50"],[1,"px-4","py-3","border-b","border-gray-100"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400","mt-1"],[1,"py-2"],[1,"w-full","text-left","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-50","transition-colors","flex","items-center",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","mr-3","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-5 5v-5zM4.5 19.5L9 15H4l5 4.5z"],[1,"border-t","border-gray-100","py-2"],[1,"w-full","text-left","px-4","py-2","text-sm","text-red-600","hover:bg-red-50","transition-colors","flex","items-center",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4","mr-3","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"]],template:function(n,r){if(n&1){let a=h();M(),e(0,"div",1),l(1,"app-sidebar",2),e(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div")(7,"h1",7),i(8),t(),e(9,"p",8),i(10),t()(),e(11,"div",9)(12,"div",10,0)(14,"button",11),c("click",function(){return u(a),p(r.toggleProfileDropdown())}),e(15,"div",12)(16,"span",13),i(17),t()(),e(18,"div",14)(19,"p",15),i(20),t(),e(21,"p",16),i(22),t()(),s(),e(23,"svg",17),l(24,"path",18),t()(),b(25,W,27,3,"div",19),t(),d(),e(26,"button",20),c("click",function(){return u(a),p(r.toggleSidebar())}),s(),e(27,"svg",21),l(28,"path",22),t()()()()()(),d(),e(29,"div",23)(30,"div",24)(31,"div",25),T(32),t()()()()()}n&2&&(m(),f("isSidebarOpen",r.isSidebarOpen),m(7),v(r.pageTitle),m(2),v(r.pageSubtitle),m(7),v(r.getInitials()),m(3),v(r.currentUser==null?null:r.currentUser.full_name),m(2),v(r.currentUser==null?null:r.currentUser.email),m(3),f("ngIf",r.isProfileDropdownOpen))},dependencies:[k,y,E],encapsulation:2})};export{D as a};
