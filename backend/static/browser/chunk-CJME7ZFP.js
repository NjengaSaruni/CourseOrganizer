import{a as p}from"./chunk-E25IYVGI.js";import{Ma as l,Ra as u,h,j as i,l as t,p as o,s as a}from"./chunk-X3WSSSVM.js";var b=class s{constructor(e,r){this.http=e;this.router=r}apiUrl=p.apiUrl;handleAuthError(e){return console.error("API Error:",e),h(()=>e)}getCourses(){return this.http.get(`${this.apiUrl}/courses/`).pipe(i(e=>e.results),t(this.handleAuthError.bind(this)))}getMaterials(){return this.http.get(`${this.apiUrl}/materials/`).pipe(i(e=>e.results),t(this.handleAuthError.bind(this)))}getMeetings(){return this.http.get(`${this.apiUrl}/meetings/`).pipe(i(e=>e.results),t(this.handleAuthError.bind(this)))}getRecordings(){return this.http.get(`${this.apiUrl}/recordings/`).pipe(i(e=>e.results),t(this.handleAuthError.bind(this)))}getTimetable(){return this.http.get(`${this.apiUrl}/timetable/`).pipe(i(e=>e.results?e.results:e),t(this.handleAuthError.bind(this)))}getMaterialsBySubject(e){return this.http.get(`${this.apiUrl}/materials/?subject=${e}`).pipe(i(r=>r.results),t(this.handleAuthError.bind(this)))}getRecordingsBySubject(e){return this.http.get(`${this.apiUrl}/recordings/?subject=${e}`).pipe(i(r=>r.results),t(this.handleAuthError.bind(this)))}getMeetingsBySubject(e){return this.http.get(`${this.apiUrl}/meetings/?subject=${e}`).pipe(i(r=>r.results),t(this.handleAuthError.bind(this)))}getCoursesByYear(e){return this.http.get(`${this.apiUrl}/courses/?year=${e}`).pipe(i(r=>r.results),t(this.handleAuthError.bind(this)))}getCoursesByYearAndSemester(e,r){return this.http.get(`${this.apiUrl}/courses/?year=${e}&semester=${r}`).pipe(i(n=>n.results),t(this.handleAuthError.bind(this)))}getTimetableByYear(e){return this.http.get(`${this.apiUrl}/timetable/?year=${e}`).pipe(i(r=>r.results?r.results:r),t(this.handleAuthError.bind(this)))}getTimetableByYearAndSemester(e,r){return this.http.get(`${this.apiUrl}/timetable/?year=${e}&semester=${r}`).pipe(i(n=>n.results?n.results:n),t(this.handleAuthError.bind(this)))}createJitsiMeeting(e){return this.http.post(`${this.apiUrl}/meetings/jitsi/create/`,e).pipe(t(this.handleAuthError.bind(this)))}getJitsiMeeting(e){return this.http.get(`${this.apiUrl}/meetings/jitsi/${e}/`).pipe(t(this.handleAuthError.bind(this)))}generateJitsiToken(e,r){return this.http.post(`${this.apiUrl}/jitsi/token/`,{room_name:e,meeting_id:r}).pipe(t(this.handleAuthError.bind(this)))}generateMeetingToken(e){return this.http.post(`${this.apiUrl}/jitsi/token/${e}/`,{}).pipe(t(this.handleAuthError.bind(this)))}verifyJitsiToken(e){return this.http.post(`${this.apiUrl}/jitsi/verify/`,{token:e}).pipe(t(this.handleAuthError.bind(this)))}updateMeetingStatus(e,r){return this.http.put(`${this.apiUrl}/meetings/${e}/status/`,{status:r}).pipe(t(this.handleAuthError.bind(this)))}joinMeeting(e){return this.http.post(`${this.apiUrl}/meetings/${e}/join/`,{}).pipe(t(this.handleAuthError.bind(this)))}startJitsiRecording(e){return this.http.post(`${this.apiUrl}/meetings/${e}/recording/start/`,{}).pipe(t(this.handleAuthError.bind(this)))}stopJitsiRecording(e){return this.http.post(`${this.apiUrl}/meetings/${e}/recording/stop/`,{}).pipe(t(this.handleAuthError.bind(this)))}getMeetingRecordings(e){return this.http.get(`${this.apiUrl}/meetings/${e}/recordings/`).pipe(t(this.handleAuthError.bind(this)))}getTimetableWithMeetings(){return this.http.get(`${this.apiUrl}/timetable/with-meetings/`).pipe(i(e=>e.results?e.results:e),t(this.handleAuthError.bind(this)))}createMeetingForTimetableEntry(e){return this.http.post(`${this.apiUrl}/timetable/${e}/create-meeting/`,{}).pipe(t(this.handleAuthError.bind(this)))}joinTimetableMeeting(e){return this.http.post(`${this.apiUrl}/timetable/${e}/join-meeting/`,{}).pipe(t(this.handleAuthError.bind(this)))}deleteMeetingForTimetableEntry(e){return this.http.delete(`${this.apiUrl}/timetable/${e}/delete-meeting/`).pipe(t(this.handleAuthError.bind(this)))}static \u0275fac=function(r){return new(r||s)(a(l),a(u))};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{b as a};
