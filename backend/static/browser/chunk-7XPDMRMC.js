import{a as c}from"./chunk-E25IYVGI.js";import{La as l,Ma as u,c as r,e as s,m as i,p as a,s as o}from"./chunk-X3WSSSVM.js";var p=class n{constructor(e){this.http=e}apiUrl=c.apiUrl;currentUserSubject=new s(null);currentUser$=this.currentUserSubject.asObservable();getHeaders(){let e=localStorage.getItem("authToken");return new l({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}getCurrentUser(){return this.http.get(`${this.apiUrl}/auth/profile/`,{headers:this.getHeaders()}).pipe(i(e=>this.currentUserSubject.next(e)))}updateProfile(e){return this.http.patch(`${this.apiUrl}/auth/profile/update/`,e,{headers:this.getHeaders()}).pipe(i(t=>this.currentUserSubject.next(t)))}changePassword(e){return new r(t=>{t.error({error:{message:"Password change functionality is not yet implemented. Please contact an administrator."}})})}getNotificationSettings(){return new r(e=>{e.next({email_notifications:!0,sms_notifications:!0,course_updates:!0,schedule_changes:!0}),e.complete()})}updateNotificationSettings(e){return new r(t=>{t.next(e),t.complete()})}exportUserData(){return new r(e=>{e.next({message:"Data export functionality is not yet implemented. Please contact an administrator."}),e.complete()})}requestAccountDeletion(){return new r(e=>{e.next({message:"Account deletion functionality is not yet implemented. Please contact an administrator."}),e.complete()})}uploadProfilePicture(e){return new r(t=>{t.error({error:{message:"Profile picture upload functionality is not yet implemented."}})})}validatePasswordStrength(e){let t=[];return e.length<8&&t.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter"),/\d/.test(e)||t.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||t.push("Password must contain at least one special character"),{isValid:t.length===0,errors:t}}getCurrentUserValue(){return this.currentUserSubject.value}updateCurrentUser(e){this.currentUserSubject.next(e)}static \u0275fac=function(t){return new(t||n)(o(u))};static \u0275prov=a({token:n,factory:n.\u0275fac,providedIn:"root"})};export{p as a};
